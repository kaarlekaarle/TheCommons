# Test Results — 2025-08-11

```
 Container thecommons2nd-redis-1  Running
 Container thecommons2nd-db-1  Running
 Container thecommons2nd-redis-1  Running
 Container thecommons2nd-db-1  Running
Defaulting to user installation because normal site-packages is not writeable
Collecting pytest
  Downloading pytest-8.4.1-py3-none-any.whl (365 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 365.5/365.5 kB 5.0 MB/s eta 0:00:00
Collecting pytest-asyncio
  Downloading pytest_asyncio-1.1.0-py3-none-any.whl (15 kB)
Collecting aiosqlite
  Downloading aiosqlite-0.21.0-py3-none-any.whl (15 kB)
Collecting PyJWT
  Downloading PyJWT-2.10.1-py3-none-any.whl (22 kB)
Requirement already satisfied: exceptiongroup>=1 in /usr/local/lib/python3.10/site-packages (from pytest) (1.3.0)
Collecting pygments>=2.7.2
  Downloading pygments-2.19.2-py3-none-any.whl (1.2 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 22.0 MB/s eta 0:00:00
Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.10/site-packages (from pytest) (2.2.1)
Collecting packaging>=20
  Downloading packaging-25.0-py3-none-any.whl (66 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 66.5/66.5 kB 9.3 MB/s eta 0:00:00
Collecting pluggy<2,>=1.5
  Downloading pluggy-1.6.0-py3-none-any.whl (20 kB)
Collecting iniconfig>=1
  Downloading iniconfig-2.1.0-py3-none-any.whl (6.0 kB)
Collecting backports-asyncio-runner<2,>=1.1
  Downloading backports_asyncio_runner-1.2.0-py3-none-any.whl (12 kB)
Requirement already satisfied: typing_extensions>=4.0 in /usr/local/lib/python3.10/site-packages (from aiosqlite) (4.14.1)
Installing collected packages: PyJWT, pygments, pluggy, packaging, iniconfig, backports-asyncio-runner, aiosqlite, pytest, pytest-asyncio
  WARNING: The script pygmentize is installed in '/home/appuser/.local/bin' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
  WARNING: The scripts py.test and pytest are installed in '/home/appuser/.local/bin' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
Successfully installed PyJWT-2.10.1 aiosqlite-0.21.0 backports-asyncio-runner-1.2.0 iniconfig-2.1.0 packaging-25.0 pluggy-1.6.0 pygments-2.19.2 pytest-8.4.1 pytest-asyncio-1.1.0

[notice] A new release of pip is available: 23.0.1 -> 25.2
[notice] To update, run: pip install --upgrade pip
============================= test session starts ==============================
platform linux -- Python 3.10.18, pytest-8.4.1, pluggy-1.6.0 -- /usr/local/bin/python
cachedir: .pytest_cache
rootdir: /app
configfile: pytest.ini
plugins: asyncio-1.1.0, anyio-4.10.0
asyncio: mode=strict, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 82 items

backend/tests/api/test_auth.py::test_login_success FAILED                [  1%]
backend/tests/api/test_auth.py::test_login_invalid_credentials FAILED    [  2%]
backend/tests/api/test_auth.py::test_register_success FAILED             [  3%]

=================================== FAILURES ===================================
______________________________ test_login_success ______________________________
  + Exception Group Traceback (most recent call last):
  |   File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/runner.py", line 344, in from_call
    |     result: TResult | None = func()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/runner.py", line 246, in <lambda>
    |     lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/logging.py", line 850, in pytest_runtest_call
    |     yield
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/capture.py", line 900, in pytest_runtest_call
    |     return (yield)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/skipping.py", line 263, in pytest_runtest_call
    |     return (yield)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/runner.py", line 178, in pytest_runtest_call
    |     item.runtest()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pytest_asyncio/plugin.py", line 426, in runtest
    |     super().runtest()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/python.py", line 1671, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/python.py", line 157, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pytest_asyncio/plugin.py", line 642, in inner
    |     _loop.run_until_complete(task)
    |   File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    |     return future.result()
    |   File "/app/backend/tests/api/test_auth.py", line 12, in test_login_success
    |     response = await async_client.post(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1877, in post
    |     return await self.request(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1559, in request
    |     return await self.send(request, auth=auth, follow_redirects=follow_redirects)
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1646, in send
    |     response = await self._send_handling_auth(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1674, in _send_handling_auth
    |     response = await self._send_handling_redirects(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1711, in _send_handling_redirects
    |     response = await self._send_single_request(request)
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1748, in _send_single_request
    |     response = await transport.handle_async_request(request)
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_transports/asgi.py", line 162, in handle_async_request
    |     await self.app(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |   File "/app/backend/main.py", line 155, in add_security_headers
    |     response = await call_next(request)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |   File "/app/backend/core/middleware.py", line 49, in dispatch
    |     response = await call_next(request)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app
    |     raise e
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app
    |     solved_result = await solve_dependencies(
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 598, in solve_dependencies
    |     solved = await call(**sub_values)
    |   File "/app/backend/core/rate_limiting.py", line 75, in rate_limiter_dependency
    |     return await limiter(request, response)
    |   File "/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py", line 36, in __call__
    |     raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
    | Exception: You must call FastAPILimiter.init in startup event of fastapi!
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/tests/api/test_auth.py", line 12, in test_login_success
    response = await async_client.post(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1877, in post
    return await self.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1559, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1646, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1674, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1711, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1748, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/asgi.py", line 162, in handle_async_request
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
  File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/app/backend/main.py", line 155, in add_security_headers
    response = await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
  File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/app/backend/core/middleware.py", line 49, in dispatch
    response = await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app
    solved_result = await solve_dependencies(
  File "/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
  File "/app/backend/core/rate_limiting.py", line 75, in rate_limiter_dependency
    return await limiter(request, response)
  File "/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py", line 36, in __call__
    raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
Exception: You must call FastAPILimiter.init in startup event of fastapi!

During handling of the above exception, another exception occurred:

async_client = <httpx.AsyncClient object at 0xffffa3fc7c10>
test_user = <backend.models.user.User object at 0xffffa4221a80>

    @pytest.mark.asyncio
    async def test_login_success(async_client: AsyncClient, test_user: User):
>       response = await async_client.post(
            "/api/token",
            data={"username": "test@example.com", "password": "testpassword"},
        )

backend/tests/api/test_auth.py:12: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1877: in post
    return await self.request(
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1559: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1646: in send
    response = await self._send_handling_auth(
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1674: in _send_handling_auth
    response = await self._send_handling_redirects(
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1711: in _send_handling_redirects
    response = await self._send_single_request(request)
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1748: in _send_single_request
    response = await transport.handle_async_request(request)
/usr/local/lib/python3.10/site-packages/httpx/_transports/asgi.py:162: in handle_async_request
    await self.app(scope, receive, send)
/usr/local/lib/python3.10/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/local/lib/python3.10/contextlib.py:153: in __exit__
    self.gen.throw(typ, value, traceback)
/usr/local/lib/python3.10/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
backend/main.py:155: in add_security_headers
    response = await call_next(request)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/local/lib/python3.10/contextlib.py:153: in __exit__
    self.gen.throw(typ, value, traceback)
/usr/local/lib/python3.10/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
backend/core/middleware.py:49: in dispatch
    response = await call_next(request)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:74: in app
    response = await func(request)
/usr/local/lib/python3.10/site-packages/fastapi/routing.py:285: in app
    raise e
/usr/local/lib/python3.10/site-packages/fastapi/routing.py:275: in app
    solved_result = await solve_dependencies(
/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py:598: in solve_dependencies
    solved = await call(**sub_values)
backend/core/rate_limiting.py:75: in rate_limiter_dependency
    return await limiter(request, response)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <fastapi_limiter.depends.RateLimiter object at 0xffffa3e819f0>
request = <starlette.requests.Request object at 0xffffa4130f70>
response = <starlette.responses.Response object at 0xffffa4130580>

    async def __call__(self, request: Request, response: Response):
        if not FastAPILimiter.redis:
>           raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
E           Exception: You must call FastAPILimiter.init in startup event of fastapi!

/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py:36: Exception
---------------------------- Captured stdout setup -----------------------------
2025-08-11 17:34:42,212 - asyncio - DEBUG - Using selector: EpollSelector
2025-08-11 17:34:42,213 - asyncio - DEBUG - Using selector: EpollSelector
2025-08-11 17:34:42,213 - asyncio - DEBUG - Using selector: EpollSelector
2025-08-11 17:34:42,214 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0xffffa4180280>
2025-08-11 17:34:42,214 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0xffffa4180280> completed
2025-08-11 17:34:42,214 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0xffffa44e4540>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0xffffa44b8c10>, deterministic=True)
2025-08-11 17:34:42,215 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0xffffa44e4540>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0xffffa44b8c10>, deterministic=True) completed
2025-08-11 17:34:42,215 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0xffffa44e4540>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-08-11 17:34:42,215 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0xffffa44e4540>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-08-11 17:34:42,215 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,216 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,216 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8340>, 'PRAGMA read_uncommitted', [])
2025-08-11 17:34:42,216 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8340>, 'PRAGMA read_uncommitted', []) completed
2025-08-11 17:34:42,216 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8340>)
2025-08-11 17:34:42,216 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8340>) completed
2025-08-11 17:34:42,217 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8340>)
2025-08-11 17:34:42,217 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8340>) completed
2025-08-11 17:34:42,217 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,217 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,219 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,220 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,220 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa42094c0>, 'PRAGMA main.table_info("activitylog")', ())
2025-08-11 17:34:42,221 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa42094c0>, 'PRAGMA main.table_info("activitylog")', ()) completed
2025-08-11 17:34:42,221 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa42094c0>)
2025-08-11 17:34:42,221 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa42094c0>) completed
2025-08-11 17:34:42,221 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa42094c0>)
2025-08-11 17:34:42,222 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa42094c0>) completed
2025-08-11 17:34:42,222 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,222 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,222 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa4208540>, 'PRAGMA temp.table_info("activitylog")', ())
2025-08-11 17:34:42,222 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa4208540>, 'PRAGMA temp.table_info("activitylog")', ()) completed
2025-08-11 17:34:42,223 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa4208540>)
2025-08-11 17:34:42,223 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa4208540>) completed
2025-08-11 17:34:42,223 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa4208540>)
2025-08-11 17:34:42,223 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa4208540>) completed
2025-08-11 17:34:42,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,224 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa420b440>, 'PRAGMA main.table_info("delegations")', ())
2025-08-11 17:34:42,224 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa420b440>, 'PRAGMA main.table_info("delegations")', ()) completed
2025-08-11 17:34:42,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa420b440>)
2025-08-11 17:34:42,225 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa420b440>) completed
2025-08-11 17:34:42,225 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa420b440>)
2025-08-11 17:34:42,225 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa420b440>) completed
2025-08-11 17:34:42,226 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,226 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,226 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa42091c0>, 'PRAGMA temp.table_info("delegations")', ())
2025-08-11 17:34:42,226 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa42091c0>, 'PRAGMA temp.table_info("delegations")', ()) completed
2025-08-11 17:34:42,227 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa42091c0>)
2025-08-11 17:34:42,227 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa42091c0>) completed
2025-08-11 17:34:42,227 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa42091c0>)
2025-08-11 17:34:42,228 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa42091c0>) completed
2025-08-11 17:34:42,228 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,228 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,229 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa4209040>, 'PRAGMA main.table_info("options")', ())
2025-08-11 17:34:42,229 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa4209040>, 'PRAGMA main.table_info("options")', ()) completed
2025-08-11 17:34:42,229 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa4209040>)
2025-08-11 17:34:42,229 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa4209040>) completed
2025-08-11 17:34:42,230 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa4209040>)
2025-08-11 17:34:42,230 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa4209040>) completed
2025-08-11 17:34:42,230 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,230 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,230 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd82c0>, 'PRAGMA temp.table_info("options")', ())
2025-08-11 17:34:42,231 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd82c0>, 'PRAGMA temp.table_info("options")', ()) completed
2025-08-11 17:34:42,231 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd82c0>)
2025-08-11 17:34:42,231 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd82c0>) completed
2025-08-11 17:34:42,231 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd82c0>)
2025-08-11 17:34:42,231 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd82c0>) completed
2025-08-11 17:34:42,232 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,232 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,232 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd83c0>, 'PRAGMA main.table_info("polls")', ())
2025-08-11 17:34:42,232 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd83c0>, 'PRAGMA main.table_info("polls")', ()) completed
2025-08-11 17:34:42,233 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd83c0>)
2025-08-11 17:34:42,234 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd83c0>) completed
2025-08-11 17:34:42,235 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd83c0>)
2025-08-11 17:34:42,235 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd83c0>) completed
2025-08-11 17:34:42,236 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,236 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,236 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8440>, 'PRAGMA temp.table_info("polls")', ())
2025-08-11 17:34:42,237 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8440>, 'PRAGMA temp.table_info("polls")', ()) completed
2025-08-11 17:34:42,237 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8440>)
2025-08-11 17:34:42,237 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8440>) completed
2025-08-11 17:34:42,237 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8440>)
2025-08-11 17:34:42,237 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8440>) completed
2025-08-11 17:34:42,238 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,238 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,238 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd85c0>, 'PRAGMA main.table_info("users")', ())
2025-08-11 17:34:42,238 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd85c0>, 'PRAGMA main.table_info("users")', ()) completed
2025-08-11 17:34:42,238 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd85c0>)
2025-08-11 17:34:42,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd85c0>) completed
2025-08-11 17:34:42,239 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd85c0>)
2025-08-11 17:34:42,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd85c0>) completed
2025-08-11 17:34:42,239 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,239 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,240 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8640>, 'PRAGMA temp.table_info("users")', ())
2025-08-11 17:34:42,240 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8640>, 'PRAGMA temp.table_info("users")', ()) completed
2025-08-11 17:34:42,240 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8640>)
2025-08-11 17:34:42,240 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8640>) completed
2025-08-11 17:34:42,241 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8640>)
2025-08-11 17:34:42,241 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8640>) completed
2025-08-11 17:34:42,241 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,241 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,241 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd86c0>, 'PRAGMA main.table_info("votes")', ())
2025-08-11 17:34:42,242 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd86c0>, 'PRAGMA main.table_info("votes")', ()) completed
2025-08-11 17:34:42,242 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd86c0>)
2025-08-11 17:34:42,242 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd86c0>) completed
2025-08-11 17:34:42,242 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd86c0>)
2025-08-11 17:34:42,242 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd86c0>) completed
2025-08-11 17:34:42,242 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,243 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,243 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8740>, 'PRAGMA temp.table_info("votes")', ())
2025-08-11 17:34:42,243 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8740>, 'PRAGMA temp.table_info("votes")', ()) completed
2025-08-11 17:34:42,243 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8740>)
2025-08-11 17:34:42,243 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8740>) completed
2025-08-11 17:34:42,243 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8740>)
2025-08-11 17:34:42,244 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8740>) completed
2025-08-11 17:34:42,244 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,244 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,244 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd87c0>, 'PRAGMA main.table_info("delegation_stats")', ())
2025-08-11 17:34:42,244 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd87c0>, 'PRAGMA main.table_info("delegation_stats")', ()) completed
2025-08-11 17:34:42,245 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd87c0>)
2025-08-11 17:34:42,245 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd87c0>) completed
2025-08-11 17:34:42,245 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd87c0>)
2025-08-11 17:34:42,245 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd87c0>) completed
2025-08-11 17:34:42,246 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,246 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,246 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8840>, 'PRAGMA temp.table_info("delegation_stats")', ())
2025-08-11 17:34:42,246 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8840>, 'PRAGMA temp.table_info("delegation_stats")', ()) completed
2025-08-11 17:34:42,247 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8840>)
2025-08-11 17:34:42,247 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8840>) completed
2025-08-11 17:34:42,247 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8840>)
2025-08-11 17:34:42,247 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8840>) completed
2025-08-11 17:34:42,247 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,248 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,248 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd88c0>, 'PRAGMA main.table_info("activitylog")', ())
2025-08-11 17:34:42,248 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd88c0>, 'PRAGMA main.table_info("activitylog")', ()) completed
2025-08-11 17:34:42,248 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd88c0>)
2025-08-11 17:34:42,248 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd88c0>) completed
2025-08-11 17:34:42,249 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd88c0>)
2025-08-11 17:34:42,249 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd88c0>) completed
2025-08-11 17:34:42,249 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,250 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,250 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8c40>, 'PRAGMA temp.table_info("activitylog")', ())
2025-08-11 17:34:42,251 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8c40>, 'PRAGMA temp.table_info("activitylog")', ()) completed
2025-08-11 17:34:42,251 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8c40>)
2025-08-11 17:34:42,251 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8c40>) completed
2025-08-11 17:34:42,251 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8c40>)
2025-08-11 17:34:42,252 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8c40>) completed
2025-08-11 17:34:42,252 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,253 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,255 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd84c0>, 'PRAGMA main.table_info("delegations")', ())
2025-08-11 17:34:42,255 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd84c0>, 'PRAGMA main.table_info("delegations")', ()) completed
2025-08-11 17:34:42,256 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd84c0>)
2025-08-11 17:34:42,256 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd84c0>) completed
2025-08-11 17:34:42,258 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd84c0>)
2025-08-11 17:34:42,258 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd84c0>) completed
2025-08-11 17:34:42,259 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,259 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,259 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8cc0>, 'PRAGMA temp.table_info("delegations")', ())
2025-08-11 17:34:42,260 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8cc0>, 'PRAGMA temp.table_info("delegations")', ()) completed
2025-08-11 17:34:42,260 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8cc0>)
2025-08-11 17:34:42,260 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8cc0>) completed
2025-08-11 17:34:42,260 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8cc0>)
2025-08-11 17:34:42,260 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8cc0>) completed
2025-08-11 17:34:42,261 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,261 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,261 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8d40>, 'PRAGMA main.table_info("options")', ())
2025-08-11 17:34:42,261 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8d40>, 'PRAGMA main.table_info("options")', ()) completed
2025-08-11 17:34:42,261 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8d40>)
2025-08-11 17:34:42,261 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8d40>) completed
2025-08-11 17:34:42,262 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8d40>)
2025-08-11 17:34:42,262 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8d40>) completed
2025-08-11 17:34:42,262 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,262 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,262 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8dc0>, 'PRAGMA temp.table_info("options")', ())
2025-08-11 17:34:42,263 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8dc0>, 'PRAGMA temp.table_info("options")', ()) completed
2025-08-11 17:34:42,263 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8dc0>)
2025-08-11 17:34:42,263 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8dc0>) completed
2025-08-11 17:34:42,263 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8dc0>)
2025-08-11 17:34:42,264 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8dc0>) completed
2025-08-11 17:34:42,265 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,265 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,265 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8e40>, 'PRAGMA main.table_info("polls")', ())
2025-08-11 17:34:42,266 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8e40>, 'PRAGMA main.table_info("polls")', ()) completed
2025-08-11 17:34:42,266 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8e40>)
2025-08-11 17:34:42,266 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8e40>) completed
2025-08-11 17:34:42,267 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8e40>)
2025-08-11 17:34:42,268 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8e40>) completed
2025-08-11 17:34:42,269 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,269 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,269 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8ec0>, 'PRAGMA temp.table_info("polls")', ())
2025-08-11 17:34:42,269 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8ec0>, 'PRAGMA temp.table_info("polls")', ()) completed
2025-08-11 17:34:42,270 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8ec0>)
2025-08-11 17:34:42,270 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8ec0>) completed
2025-08-11 17:34:42,272 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8ec0>)
2025-08-11 17:34:42,272 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8ec0>) completed
2025-08-11 17:34:42,274 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,276 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,276 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8f40>, 'PRAGMA main.table_info("users")', ())
2025-08-11 17:34:42,276 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8f40>, 'PRAGMA main.table_info("users")', ()) completed
2025-08-11 17:34:42,277 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8f40>)
2025-08-11 17:34:42,277 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8f40>) completed
2025-08-11 17:34:42,277 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8f40>)
2025-08-11 17:34:42,277 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8f40>) completed
2025-08-11 17:34:42,277 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,277 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,278 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9140>, 'PRAGMA temp.table_info("users")', ())
2025-08-11 17:34:42,278 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9140>, 'PRAGMA temp.table_info("users")', ()) completed
2025-08-11 17:34:42,278 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9140>)
2025-08-11 17:34:42,279 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9140>) completed
2025-08-11 17:34:42,279 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9140>)
2025-08-11 17:34:42,279 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9140>) completed
2025-08-11 17:34:42,279 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,280 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,280 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd91c0>, 'PRAGMA main.table_info("votes")', ())
2025-08-11 17:34:42,280 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd91c0>, 'PRAGMA main.table_info("votes")', ()) completed
2025-08-11 17:34:42,280 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd91c0>)
2025-08-11 17:34:42,280 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd91c0>) completed
2025-08-11 17:34:42,280 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd91c0>)
2025-08-11 17:34:42,280 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd91c0>) completed
2025-08-11 17:34:42,281 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,281 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,281 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9240>, 'PRAGMA temp.table_info("votes")', ())
2025-08-11 17:34:42,281 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9240>, 'PRAGMA temp.table_info("votes")', ()) completed
2025-08-11 17:34:42,281 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9240>)
2025-08-11 17:34:42,281 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9240>) completed
2025-08-11 17:34:42,282 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9240>)
2025-08-11 17:34:42,282 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9240>) completed
2025-08-11 17:34:42,282 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,282 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,282 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd92c0>, 'PRAGMA main.table_info("delegation_stats")', ())
2025-08-11 17:34:42,282 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd92c0>, 'PRAGMA main.table_info("delegation_stats")', ()) completed
2025-08-11 17:34:42,283 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd92c0>)
2025-08-11 17:34:42,283 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd92c0>) completed
2025-08-11 17:34:42,283 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd92c0>)
2025-08-11 17:34:42,284 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd92c0>) completed
2025-08-11 17:34:42,284 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,284 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,284 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9340>, 'PRAGMA temp.table_info("delegation_stats")', ())
2025-08-11 17:34:42,285 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9340>, 'PRAGMA temp.table_info("delegation_stats")', ()) completed
2025-08-11 17:34:42,285 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9340>)
2025-08-11 17:34:42,286 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9340>) completed
2025-08-11 17:34:42,286 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9340>)
2025-08-11 17:34:42,286 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9340>) completed
2025-08-11 17:34:42,287 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,287 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,288 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd93c0>, '\nCREATE TABLE users (\n\temail VARCHAR NOT NULL, \n\tusername VARCHAR NOT NULL, \n\thashed_password VARCHAR NOT NULL, \n\tis_active BOOLEAN, \n\tis_superuser BOOLEAN, \n\tlast_login DATETIME, \n\temail_verified BOOLEAN, \n\tverification_token VARCHAR, \n\treset_token VARCHAR, \n\treset_token_expires DATETIME, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-08-11 17:34:42,288 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd93c0>, '\nCREATE TABLE users (\n\temail VARCHAR NOT NULL, \n\tusername VARCHAR NOT NULL, \n\thashed_password VARCHAR NOT NULL, \n\tis_active BOOLEAN, \n\tis_superuser BOOLEAN, \n\tlast_login DATETIME, \n\temail_verified BOOLEAN, \n\tverification_token VARCHAR, \n\treset_token VARCHAR, \n\treset_token_expires DATETIME, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-08-11 17:34:42,289 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd93c0>)
2025-08-11 17:34:42,289 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd93c0>) completed
2025-08-11 17:34:42,289 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,290 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,290 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9440>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
2025-08-11 17:34:42,291 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9440>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
2025-08-11 17:34:42,291 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9440>)
2025-08-11 17:34:42,292 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9440>) completed
2025-08-11 17:34:42,292 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,293 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,293 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8540>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ())
2025-08-11 17:34:42,294 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8540>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ()) completed
2025-08-11 17:34:42,294 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8540>)
2025-08-11 17:34:42,294 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8540>) completed
2025-08-11 17:34:42,295 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,295 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,296 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd94c0>, '\nCREATE TABLE delegation_stats (\n\ttop_delegatees JSON NOT NULL, \n\tavg_chain_length FLOAT NOT NULL, \n\tlongest_chain INTEGER NOT NULL, \n\tactive_delegations INTEGER NOT NULL, \n\tcalculated_at DATETIME NOT NULL, \n\tpoll_id CHAR(32), \n\tid CHAR(32) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
2025-08-11 17:34:42,297 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd94c0>, '\nCREATE TABLE delegation_stats (\n\ttop_delegatees JSON NOT NULL, \n\tavg_chain_length FLOAT NOT NULL, \n\tlongest_chain INTEGER NOT NULL, \n\tactive_delegations INTEGER NOT NULL, \n\tcalculated_at DATETIME NOT NULL, \n\tpoll_id CHAR(32), \n\tid CHAR(32) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2025-08-11 17:34:42,298 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd94c0>)
2025-08-11 17:34:42,298 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd94c0>) completed
2025-08-11 17:34:42,300 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,301 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,301 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9540>, '\nCREATE TABLE activitylog (\n\tid CHAR(32) NOT NULL, \n\tuser_id CHAR(32) NOT NULL, \n\taction_type VARCHAR(18) NOT NULL, \n\treference_id CHAR(32) NOT NULL, \n\tmeta JSON, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ())
2025-08-11 17:34:42,302 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9540>, '\nCREATE TABLE activitylog (\n\tid CHAR(32) NOT NULL, \n\tuser_id CHAR(32) NOT NULL, \n\taction_type VARCHAR(18) NOT NULL, \n\treference_id CHAR(32) NOT NULL, \n\tmeta JSON, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ()) completed
2025-08-11 17:34:42,302 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9540>)
2025-08-11 17:34:42,302 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9540>) completed
2025-08-11 17:34:42,303 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,303 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,304 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9640>, 'CREATE INDEX ix_activitylog_action_type ON activitylog (action_type)', ())
2025-08-11 17:34:42,304 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9640>, 'CREATE INDEX ix_activitylog_action_type ON activitylog (action_type)', ()) completed
2025-08-11 17:34:42,304 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9640>)
2025-08-11 17:34:42,304 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9640>) completed
2025-08-11 17:34:42,305 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,305 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,305 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd96c0>, 'CREATE INDEX ix_activitylog_user_id ON activitylog (user_id)', ())
2025-08-11 17:34:42,305 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd96c0>, 'CREATE INDEX ix_activitylog_user_id ON activitylog (user_id)', ()) completed
2025-08-11 17:34:42,305 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd96c0>)
2025-08-11 17:34:42,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd96c0>) completed
2025-08-11 17:34:42,306 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,306 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd97c0>, 'CREATE INDEX ix_activitylog_reference_id ON activitylog (reference_id)', ())
2025-08-11 17:34:42,306 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd97c0>, 'CREATE INDEX ix_activitylog_reference_id ON activitylog (reference_id)', ()) completed
2025-08-11 17:34:42,307 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd97c0>)
2025-08-11 17:34:42,307 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd97c0>) completed
2025-08-11 17:34:42,307 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,307 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,308 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd98c0>, 'CREATE INDEX ix_activitylog_timestamp ON activitylog (created_at)', ())
2025-08-11 17:34:42,308 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd98c0>, 'CREATE INDEX ix_activitylog_timestamp ON activitylog (created_at)', ()) completed
2025-08-11 17:34:42,308 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd98c0>)
2025-08-11 17:34:42,308 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd98c0>) completed
2025-08-11 17:34:42,309 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,309 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,310 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9940>, '\nCREATE TABLE delegations (\n\tdelegator_id CHAR(32) NOT NULL, \n\tdelegate_id CHAR(32) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(delegator_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(delegate_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ())
2025-08-11 17:34:42,310 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9940>, '\nCREATE TABLE delegations (\n\tdelegator_id CHAR(32) NOT NULL, \n\tdelegate_id CHAR(32) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(delegator_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(delegate_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ()) completed
2025-08-11 17:34:42,311 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9940>)
2025-08-11 17:34:42,311 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9940>) completed
2025-08-11 17:34:42,312 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,312 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,312 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd99c0>, '\nCREATE TABLE polls (\n\ttitle VARCHAR NOT NULL, \n\tdescription VARCHAR, \n\tcreated_by CHAR(32) NOT NULL, \n\tstatus VARCHAR(8) NOT NULL, \n\tvisibility VARCHAR(8) NOT NULL, \n\tstart_date DATETIME, \n\tend_date DATETIME, \n\tallow_delegation BOOLEAN, \n\trequire_authentication BOOLEAN, \n\tmax_votes_per_user INTEGER, \n\tid CHAR(32) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(created_by) REFERENCES users (id)\n)\n\n', ())
2025-08-11 17:34:42,313 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd99c0>, '\nCREATE TABLE polls (\n\ttitle VARCHAR NOT NULL, \n\tdescription VARCHAR, \n\tcreated_by CHAR(32) NOT NULL, \n\tstatus VARCHAR(8) NOT NULL, \n\tvisibility VARCHAR(8) NOT NULL, \n\tstart_date DATETIME, \n\tend_date DATETIME, \n\tallow_delegation BOOLEAN, \n\trequire_authentication BOOLEAN, \n\tmax_votes_per_user INTEGER, \n\tid CHAR(32) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(created_by) REFERENCES users (id)\n)\n\n', ()) completed
2025-08-11 17:34:42,313 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd99c0>)
2025-08-11 17:34:42,313 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd99c0>) completed
2025-08-11 17:34:42,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,314 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9a40>, '\nCREATE TABLE options (\n\ttext VARCHAR NOT NULL, \n\tdescription VARCHAR, \n\tpoll_id CHAR(32) NOT NULL, \n\t"order" INTEGER, \n\tis_correct BOOLEAN, \n\tvote_count INTEGER, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(poll_id) REFERENCES polls (id) ON DELETE CASCADE\n)\n\n', ())
2025-08-11 17:34:42,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9a40>, '\nCREATE TABLE options (\n\ttext VARCHAR NOT NULL, \n\tdescription VARCHAR, \n\tpoll_id CHAR(32) NOT NULL, \n\t"order" INTEGER, \n\tis_correct BOOLEAN, \n\tvote_count INTEGER, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(poll_id) REFERENCES polls (id) ON DELETE CASCADE\n)\n\n', ()) completed
2025-08-11 17:34:42,316 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9a40>)
2025-08-11 17:34:42,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9a40>) completed
2025-08-11 17:34:42,319 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,319 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,320 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9ac0>, '\nCREATE TABLE votes (\n\tuser_id CHAR(32) NOT NULL, \n\tpoll_id CHAR(32) NOT NULL, \n\toption_id CHAR(32) NOT NULL, \n\tweight INTEGER, \n\tcomment VARCHAR, \n\tip_address VARCHAR, \n\tuser_agent VARCHAR, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(poll_id) REFERENCES polls (id) ON DELETE CASCADE, \n\tFOREIGN KEY(option_id) REFERENCES options (id) ON DELETE CASCADE\n)\n\n', ())
2025-08-11 17:34:42,320 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9ac0>, '\nCREATE TABLE votes (\n\tuser_id CHAR(32) NOT NULL, \n\tpoll_id CHAR(32) NOT NULL, \n\toption_id CHAR(32) NOT NULL, \n\tweight INTEGER, \n\tcomment VARCHAR, \n\tip_address VARCHAR, \n\tuser_agent VARCHAR, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(poll_id) REFERENCES polls (id) ON DELETE CASCADE, \n\tFOREIGN KEY(option_id) REFERENCES options (id) ON DELETE CASCADE\n)\n\n', ()) completed
2025-08-11 17:34:42,321 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9ac0>)
2025-08-11 17:34:42,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9ac0>) completed
2025-08-11 17:34:42,321 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,321 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,322 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-08-11 17:34:42,323 - passlib.handlers.bcrypt - DEBUG - detected 'bcrypt' backend, version '<unknown>'
2025-08-11 17:34:42,323 - passlib.handlers.bcrypt - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2025-08-11 17:34:42,603 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,603 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,603 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fa7740>, 'INSERT INTO users (email, username, hashed_password, is_active, is_superuser, last_login, email_verified, verification_token, reset_token, reset_token_expires, updated_at, is_deleted, deleted_at, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at', ('test@example.com', 'testuser', '$2b$12$TIR/BqMORGODhjv1xud2MOP6Dz1boQ1Iqr/YGnjLGP9.8e93CXMNi', 1, 0, None, 0, None, None, None, None, 0, None, '828bb721-5dbd-4c1c-8702-0ce1eff52fcb'))
2025-08-11 17:34:42,604 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fa7740>, 'INSERT INTO users (email, username, hashed_password, is_active, is_superuser, last_login, email_verified, verification_token, reset_token, reset_token_expires, updated_at, is_deleted, deleted_at, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at', ('test@example.com', 'testuser', '$2b$12$TIR/BqMORGODhjv1xud2MOP6Dz1boQ1Iqr/YGnjLGP9.8e93CXMNi', 1, 0, None, 0, None, None, None, None, 0, None, '828bb721-5dbd-4c1c-8702-0ce1eff52fcb')) completed
2025-08-11 17:34:42,604 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fa7740>)
2025-08-11 17:34:42,604 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fa7740>) completed
2025-08-11 17:34:42,604 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fa7740>)
2025-08-11 17:34:42,604 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fa7740>) completed
2025-08-11 17:34:42,605 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,605 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,605 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,605 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,607 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,607 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,607 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fa7cc0>, 'SELECT users.email, users.username, users.hashed_password, users.is_active, users.is_superuser, users.last_login, users.email_verified, users.verification_token, users.reset_token, users.reset_token_expires, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.id \nFROM users \nWHERE users.id = ?', ('828bb721-5dbd-4c1c-8702-0ce1eff52fcb',))
2025-08-11 17:34:42,607 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fa7cc0>, 'SELECT users.email, users.username, users.hashed_password, users.is_active, users.is_superuser, users.last_login, users.email_verified, users.verification_token, users.reset_token, users.reset_token_expires, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.id \nFROM users \nWHERE users.id = ?', ('828bb721-5dbd-4c1c-8702-0ce1eff52fcb',)) completed
2025-08-11 17:34:42,608 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fa7cc0>)
2025-08-11 17:34:42,608 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fa7cc0>) completed
2025-08-11 17:34:42,608 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fa7cc0>)
2025-08-11 17:34:42,608 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fa7cc0>) completed
------------------------------ Captured log setup ------------------------------
DEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector
DEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector
DEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector
DEBUG    aiosqlite:core.py:104 executing <function connect.<locals>.connector at 0xffffa4180280>
DEBUG    aiosqlite:core.py:106 operation <function connect.<locals>.connector at 0xffffa4180280> completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0xffffa44e4540>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0xffffa44b8c10>, deterministic=True)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0xffffa44e4540>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0xffffa44b8c10>, deterministic=True) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0xffffa44e4540>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0xffffa44e4540>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8340>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8340>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8340>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8340>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8340>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8340>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa42094c0>, 'PRAGMA main.table_info("activitylog")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa42094c0>, 'PRAGMA main.table_info("activitylog")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa42094c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa42094c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa42094c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa42094c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa4208540>, 'PRAGMA temp.table_info("activitylog")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa4208540>, 'PRAGMA temp.table_info("activitylog")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa4208540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa4208540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa4208540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa4208540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa420b440>, 'PRAGMA main.table_info("delegations")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa420b440>, 'PRAGMA main.table_info("delegations")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa420b440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa420b440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa420b440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa420b440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa42091c0>, 'PRAGMA temp.table_info("delegations")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa42091c0>, 'PRAGMA temp.table_info("delegations")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa42091c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa42091c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa42091c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa42091c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa4209040>, 'PRAGMA main.table_info("options")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa4209040>, 'PRAGMA main.table_info("options")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa4209040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa4209040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa4209040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa4209040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd82c0>, 'PRAGMA temp.table_info("options")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd82c0>, 'PRAGMA temp.table_info("options")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd82c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd82c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd82c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd82c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd83c0>, 'PRAGMA main.table_info("polls")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd83c0>, 'PRAGMA main.table_info("polls")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd83c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd83c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd83c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd83c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8440>, 'PRAGMA temp.table_info("polls")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8440>, 'PRAGMA temp.table_info("polls")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd85c0>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd85c0>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd85c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd85c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd85c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd85c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8640>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8640>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8640>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8640>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8640>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8640>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd86c0>, 'PRAGMA main.table_info("votes")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd86c0>, 'PRAGMA main.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd86c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd86c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd86c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd86c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8740>, 'PRAGMA temp.table_info("votes")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8740>, 'PRAGMA temp.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd87c0>, 'PRAGMA main.table_info("delegation_stats")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd87c0>, 'PRAGMA main.table_info("delegation_stats")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd87c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd87c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd87c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd87c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8840>, 'PRAGMA temp.table_info("delegation_stats")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8840>, 'PRAGMA temp.table_info("delegation_stats")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8840>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8840>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8840>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8840>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd88c0>, 'PRAGMA main.table_info("activitylog")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd88c0>, 'PRAGMA main.table_info("activitylog")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd88c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd88c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd88c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd88c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8c40>, 'PRAGMA temp.table_info("activitylog")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8c40>, 'PRAGMA temp.table_info("activitylog")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8c40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8c40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8c40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8c40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd84c0>, 'PRAGMA main.table_info("delegations")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd84c0>, 'PRAGMA main.table_info("delegations")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd84c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd84c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd84c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd84c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8cc0>, 'PRAGMA temp.table_info("delegations")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8cc0>, 'PRAGMA temp.table_info("delegations")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8cc0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8cc0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8cc0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8cc0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8d40>, 'PRAGMA main.table_info("options")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8d40>, 'PRAGMA main.table_info("options")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8d40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8d40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8d40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8d40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8dc0>, 'PRAGMA temp.table_info("options")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8dc0>, 'PRAGMA temp.table_info("options")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8dc0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8dc0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8dc0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8dc0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8e40>, 'PRAGMA main.table_info("polls")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8e40>, 'PRAGMA main.table_info("polls")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8e40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8e40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8e40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8e40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8ec0>, 'PRAGMA temp.table_info("polls")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8ec0>, 'PRAGMA temp.table_info("polls")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8ec0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8ec0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8ec0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8ec0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8f40>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8f40>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8f40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd8f40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8f40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8f40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9140>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9140>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9140>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9140>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd91c0>, 'PRAGMA main.table_info("votes")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd91c0>, 'PRAGMA main.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd91c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd91c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd91c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd91c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9240>, 'PRAGMA temp.table_info("votes")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9240>, 'PRAGMA temp.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9240>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9240>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd92c0>, 'PRAGMA main.table_info("delegation_stats")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd92c0>, 'PRAGMA main.table_info("delegation_stats")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd92c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd92c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd92c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd92c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9340>, 'PRAGMA temp.table_info("delegation_stats")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9340>, 'PRAGMA temp.table_info("delegation_stats")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9340>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd9340>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9340>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9340>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd93c0>, '\nCREATE TABLE users (\n\temail VARCHAR NOT NULL, \n\tusername VARCHAR NOT NULL, \n\thashed_password VARCHAR NOT NULL, \n\tis_active BOOLEAN, \n\tis_superuser BOOLEAN, \n\tlast_login DATETIME, \n\temail_verified BOOLEAN, \n\tverification_token VARCHAR, \n\treset_token VARCHAR, \n\treset_token_expires DATETIME, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd93c0>, '\nCREATE TABLE users (\n\temail VARCHAR NOT NULL, \n\tusername VARCHAR NOT NULL, \n\thashed_password VARCHAR NOT NULL, \n\tis_active BOOLEAN, \n\tis_superuser BOOLEAN, \n\tlast_login DATETIME, \n\temail_verified BOOLEAN, \n\tverification_token VARCHAR, \n\treset_token VARCHAR, \n\treset_token_expires DATETIME, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd93c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd93c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9440>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9440>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9440>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9440>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8540>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd8540>, 'CREATE UNIQUE INDEX ix_users_username ON users (username)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd8540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd94c0>, '\nCREATE TABLE delegation_stats (\n\ttop_delegatees JSON NOT NULL, \n\tavg_chain_length FLOAT NOT NULL, \n\tlongest_chain INTEGER NOT NULL, \n\tactive_delegations INTEGER NOT NULL, \n\tcalculated_at DATETIME NOT NULL, \n\tpoll_id CHAR(32), \n\tid CHAR(32) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd94c0>, '\nCREATE TABLE delegation_stats (\n\ttop_delegatees JSON NOT NULL, \n\tavg_chain_length FLOAT NOT NULL, \n\tlongest_chain INTEGER NOT NULL, \n\tactive_delegations INTEGER NOT NULL, \n\tcalculated_at DATETIME NOT NULL, \n\tpoll_id CHAR(32), \n\tid CHAR(32) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd94c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd94c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9540>, '\nCREATE TABLE activitylog (\n\tid CHAR(32) NOT NULL, \n\tuser_id CHAR(32) NOT NULL, \n\taction_type VARCHAR(18) NOT NULL, \n\treference_id CHAR(32) NOT NULL, \n\tmeta JSON, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9540>, '\nCREATE TABLE activitylog (\n\tid CHAR(32) NOT NULL, \n\tuser_id CHAR(32) NOT NULL, \n\taction_type VARCHAR(18) NOT NULL, \n\treference_id CHAR(32) NOT NULL, \n\tmeta JSON, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9640>, 'CREATE INDEX ix_activitylog_action_type ON activitylog (action_type)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9640>, 'CREATE INDEX ix_activitylog_action_type ON activitylog (action_type)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9640>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9640>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd96c0>, 'CREATE INDEX ix_activitylog_user_id ON activitylog (user_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd96c0>, 'CREATE INDEX ix_activitylog_user_id ON activitylog (user_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd96c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd96c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd97c0>, 'CREATE INDEX ix_activitylog_reference_id ON activitylog (reference_id)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd97c0>, 'CREATE INDEX ix_activitylog_reference_id ON activitylog (reference_id)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd97c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd97c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd98c0>, 'CREATE INDEX ix_activitylog_timestamp ON activitylog (created_at)', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd98c0>, 'CREATE INDEX ix_activitylog_timestamp ON activitylog (created_at)', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd98c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd98c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9940>, '\nCREATE TABLE delegations (\n\tdelegator_id CHAR(32) NOT NULL, \n\tdelegate_id CHAR(32) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(delegator_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(delegate_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9940>, '\nCREATE TABLE delegations (\n\tdelegator_id CHAR(32) NOT NULL, \n\tdelegate_id CHAR(32) NOT NULL, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(delegator_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(delegate_id) REFERENCES users (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9940>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9940>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd99c0>, '\nCREATE TABLE polls (\n\ttitle VARCHAR NOT NULL, \n\tdescription VARCHAR, \n\tcreated_by CHAR(32) NOT NULL, \n\tstatus VARCHAR(8) NOT NULL, \n\tvisibility VARCHAR(8) NOT NULL, \n\tstart_date DATETIME, \n\tend_date DATETIME, \n\tallow_delegation BOOLEAN, \n\trequire_authentication BOOLEAN, \n\tmax_votes_per_user INTEGER, \n\tid CHAR(32) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(created_by) REFERENCES users (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd99c0>, '\nCREATE TABLE polls (\n\ttitle VARCHAR NOT NULL, \n\tdescription VARCHAR, \n\tcreated_by CHAR(32) NOT NULL, \n\tstatus VARCHAR(8) NOT NULL, \n\tvisibility VARCHAR(8) NOT NULL, \n\tstart_date DATETIME, \n\tend_date DATETIME, \n\tallow_delegation BOOLEAN, \n\trequire_authentication BOOLEAN, \n\tmax_votes_per_user INTEGER, \n\tid CHAR(32) NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_at DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(created_by) REFERENCES users (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd99c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd99c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9a40>, '\nCREATE TABLE options (\n\ttext VARCHAR NOT NULL, \n\tdescription VARCHAR, \n\tpoll_id CHAR(32) NOT NULL, \n\t"order" INTEGER, \n\tis_correct BOOLEAN, \n\tvote_count INTEGER, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(poll_id) REFERENCES polls (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9a40>, '\nCREATE TABLE options (\n\ttext VARCHAR NOT NULL, \n\tdescription VARCHAR, \n\tpoll_id CHAR(32) NOT NULL, \n\t"order" INTEGER, \n\tis_correct BOOLEAN, \n\tvote_count INTEGER, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(poll_id) REFERENCES polls (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9a40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9a40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9ac0>, '\nCREATE TABLE votes (\n\tuser_id CHAR(32) NOT NULL, \n\tpoll_id CHAR(32) NOT NULL, \n\toption_id CHAR(32) NOT NULL, \n\tweight INTEGER, \n\tcomment VARCHAR, \n\tip_address VARCHAR, \n\tuser_agent VARCHAR, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(poll_id) REFERENCES polls (id) ON DELETE CASCADE, \n\tFOREIGN KEY(option_id) REFERENCES options (id) ON DELETE CASCADE\n)\n\n', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd9ac0>, '\nCREATE TABLE votes (\n\tuser_id CHAR(32) NOT NULL, \n\tpoll_id CHAR(32) NOT NULL, \n\toption_id CHAR(32) NOT NULL, \n\tweight INTEGER, \n\tcomment VARCHAR, \n\tip_address VARCHAR, \n\tuser_agent VARCHAR, \n\tcreated_at DATETIME DEFAULT (CURRENT_TIMESTAMP), \n\tupdated_at DATETIME, \n\tis_deleted BOOLEAN, \n\tdeleted_at DATETIME, \n\tid CHAR(32) NOT NULL, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(user_id) REFERENCES users (id) ON DELETE CASCADE, \n\tFOREIGN KEY(poll_id) REFERENCES polls (id) ON DELETE CASCADE, \n\tFOREIGN KEY(option_id) REFERENCES options (id) ON DELETE CASCADE\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9ac0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd9ac0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
WARNING  passlib.handlers.bcrypt:bcrypt.py:622 (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
DEBUG    passlib.handlers.bcrypt:bcrypt.py:625 detected 'bcrypt' backend, version '<unknown>'
DEBUG    passlib.handlers.bcrypt:bcrypt.py:406 'bcrypt' backend lacks $2$ support, enabling workaround
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fa7740>, 'INSERT INTO users (email, username, hashed_password, is_active, is_superuser, last_login, email_verified, verification_token, reset_token, reset_token_expires, updated_at, is_deleted, deleted_at, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at', ('test@example.com', 'testuser', '$2b$12$TIR/BqMORGODhjv1xud2MOP6Dz1boQ1Iqr/YGnjLGP9.8e93CXMNi', 1, 0, None, 0, None, None, None, None, 0, None, '828bb721-5dbd-4c1c-8702-0ce1eff52fcb'))
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fa7740>, 'INSERT INTO users (email, username, hashed_password, is_active, is_superuser, last_login, email_verified, verification_token, reset_token, reset_token_expires, updated_at, is_deleted, deleted_at, id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING created_at', ('test@example.com', 'testuser', '$2b$12$TIR/BqMORGODhjv1xud2MOP6Dz1boQ1Iqr/YGnjLGP9.8e93CXMNi', 1, 0, None, 0, None, None, None, None, 0, None, '828bb721-5dbd-4c1c-8702-0ce1eff52fcb')) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fa7740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fa7740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fa7740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fa7740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fa7cc0>, 'SELECT users.email, users.username, users.hashed_password, users.is_active, users.is_superuser, users.last_login, users.email_verified, users.verification_token, users.reset_token, users.reset_token_expires, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.id \nFROM users \nWHERE users.id = ?', ('828bb721-5dbd-4c1c-8702-0ce1eff52fcb',))
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fa7cc0>, 'SELECT users.email, users.username, users.hashed_password, users.is_active, users.is_superuser, users.last_login, users.email_verified, users.verification_token, users.reset_token, users.reset_token_expires, users.created_at, users.updated_at, users.is_deleted, users.deleted_at, users.id \nFROM users \nWHERE users.id = ?', ('828bb721-5dbd-4c1c-8702-0ce1eff52fcb',)) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fa7cc0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fa7cc0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fa7cc0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fa7cc0>) completed
----------------------------- Captured stdout call -----------------------------
{"request_id": "002341e4-0511-4bb6-97c1-63bdc7085edd", "method": "POST", "path": "/api/token", "event": "request_started", "client_host": "127.0.0.1", "level": "info", "timestamp": "2025-08-11T17:34:42.639378Z"}
2025-08-11 17:34:42,640 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-08-11 17:34:42,640 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-08-11 17:34:42,640 - multipart.multipart - DEBUG - Calling on_field_data with data[9:27]
2025-08-11 17:34:42,640 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-08-11 17:34:42,640 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-08-11 17:34:42,640 - multipart.multipart - DEBUG - Calling on_field_name with data[28:36]
2025-08-11 17:34:42,640 - multipart.multipart - DEBUG - Calling on_field_data with data[37:49]
2025-08-11 17:34:42,641 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-08-11 17:34:42,641 - multipart.multipart - DEBUG - Calling on_end with no data
{"request_id": "002341e4-0511-4bb6-97c1-63bdc7085edd", "error": "You must call FastAPILimiter.init in startup event of fastapi!", "response_time": 0.0018928050994873047, "event": "request_failed", "method": "POST", "path": "/api/token", "client_host": "127.0.0.1", "level": "error", "timestamp": "2025-08-11T17:34:42.641380Z"}
{"request_id": null, "path": "/api/token", "method": "POST", "event": "Unhandled exception", "level": "error", "timestamp": "2025-08-11T17:34:42.641539Z", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 87, in collapse_excgroups\n  |     yield\n  |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 190, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |   File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    |     with collapse_excgroups():\n    |   File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    |     self.gen.throw(typ, value, traceback)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |   File \"/app/backend/main.py\", line 155, in add_security_headers\n    |     response = await call_next(request)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    |     raise app_exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    |     with collapse_excgroups():\n    |   File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    |     self.gen.throw(typ, value, traceback)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |   File \"/app/backend/core/middleware.py\", line 49, in dispatch\n    |     response = await call_next(request)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    |     raise app_exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 758, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 778, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 299, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 79, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 74, in app\n    |     response = await func(request)\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 285, in app\n    |     raise e\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 275, in app\n    |     solved_result = await solve_dependencies(\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py\", line 598, in solve_dependencies\n    |     solved = await call(**sub_values)\n    |   File \"/app/backend/core/rate_limiting.py\", line 75, in rate_limiter_dependency\n    |     return await limiter(request, response)\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py\", line 36, in __call__\n    |     raise Exception(\"You must call FastAPILimiter.init in startup event of fastapi!\")\n    | Exception: You must call FastAPILimiter.init in startup event of fastapi!\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    with collapse_excgroups():\n  File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/app/backend/main.py\", line 155, in add_security_headers\n    response = await call_next(request)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    raise app_exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    with collapse_excgroups():\n  File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/app/backend/core/middleware.py\", line 49, in dispatch\n    response = await call_next(request)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    raise app_exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 758, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 778, in app\n    await route.handle(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 299, in handle\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 79, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 74, in app\n    response = await func(request)\n  File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 285, in app\n    raise e\n  File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 275, in app\n    solved_result = await solve_dependencies(\n  File \"/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py\", line 598, in solve_dependencies\n    solved = await call(**sub_values)\n  File \"/app/backend/core/rate_limiting.py\", line 75, in rate_limiter_dependency\n    return await limiter(request, response)\n  File \"/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py\", line 36, in __call__\n    raise Exception(\"You must call FastAPILimiter.init in startup event of fastapi!\")\nException: You must call FastAPILimiter.init in startup event of fastapi!"}
------------------------------ Captured log call -------------------------------
DEBUG    multipart.multipart:multipart.py:626 Calling on_field_start with no data
DEBUG    multipart.multipart:multipart.py:623 Calling on_field_name with data[0:8]
DEBUG    multipart.multipart:multipart.py:623 Calling on_field_data with data[9:27]
DEBUG    multipart.multipart:multipart.py:626 Calling on_field_end with no data
DEBUG    multipart.multipart:multipart.py:626 Calling on_field_start with no data
DEBUG    multipart.multipart:multipart.py:623 Calling on_field_name with data[28:36]
DEBUG    multipart.multipart:multipart.py:623 Calling on_field_data with data[37:49]
DEBUG    multipart.multipart:multipart.py:626 Calling on_field_end with no data
DEBUG    multipart.multipart:multipart.py:626 Calling on_end with no data
--------------------------- Captured stdout teardown ---------------------------
2025-08-11 17:34:42,845 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,845 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,845 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,845 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,846 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,846 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,846 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd80c0>, 'PRAGMA main.table_info("activitylog")', ())
2025-08-11 17:34:42,846 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd80c0>, 'PRAGMA main.table_info("activitylog")', ()) completed
2025-08-11 17:34:42,846 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd80c0>)
2025-08-11 17:34:42,846 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd80c0>) completed
2025-08-11 17:34:42,846 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd80c0>)
2025-08-11 17:34:42,847 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd80c0>) completed
2025-08-11 17:34:42,847 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,847 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,847 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547540>, 'PRAGMA main.table_info("delegations")', ())
2025-08-11 17:34:42,847 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547540>, 'PRAGMA main.table_info("delegations")', ()) completed
2025-08-11 17:34:42,847 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547540>)
2025-08-11 17:34:42,847 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547540>) completed
2025-08-11 17:34:42,847 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547540>)
2025-08-11 17:34:42,848 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547540>) completed
2025-08-11 17:34:42,848 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,848 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,848 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547ac0>, 'PRAGMA main.table_info("options")', ())
2025-08-11 17:34:42,848 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547ac0>, 'PRAGMA main.table_info("options")', ()) completed
2025-08-11 17:34:42,848 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547ac0>)
2025-08-11 17:34:42,848 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547ac0>) completed
2025-08-11 17:34:42,849 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547ac0>)
2025-08-11 17:34:42,849 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547ac0>) completed
2025-08-11 17:34:42,849 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,849 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,849 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35478c0>, 'PRAGMA main.table_info("polls")', ())
2025-08-11 17:34:42,849 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35478c0>, 'PRAGMA main.table_info("polls")', ()) completed
2025-08-11 17:34:42,850 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa35478c0>)
2025-08-11 17:34:42,850 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa35478c0>) completed
2025-08-11 17:34:42,850 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35478c0>)
2025-08-11 17:34:42,850 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35478c0>) completed
2025-08-11 17:34:42,850 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,850 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,850 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547740>, 'PRAGMA main.table_info("users")', ())
2025-08-11 17:34:42,850 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547740>, 'PRAGMA main.table_info("users")', ()) completed
2025-08-11 17:34:42,850 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547740>)
2025-08-11 17:34:42,851 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547740>) completed
2025-08-11 17:34:42,851 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547740>)
2025-08-11 17:34:42,851 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547740>) completed
2025-08-11 17:34:42,851 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,851 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,851 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35471c0>, 'PRAGMA main.table_info("votes")', ())
2025-08-11 17:34:42,851 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35471c0>, 'PRAGMA main.table_info("votes")', ()) completed
2025-08-11 17:34:42,852 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa35471c0>)
2025-08-11 17:34:42,852 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa35471c0>) completed
2025-08-11 17:34:42,852 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35471c0>)
2025-08-11 17:34:42,852 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35471c0>) completed
2025-08-11 17:34:42,852 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,852 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,853 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547a40>, 'PRAGMA main.table_info("delegation_stats")', ())
2025-08-11 17:34:42,853 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547a40>, 'PRAGMA main.table_info("delegation_stats")', ()) completed
2025-08-11 17:34:42,853 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547a40>)
2025-08-11 17:34:42,853 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547a40>) completed
2025-08-11 17:34:42,853 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547a40>)
2025-08-11 17:34:42,853 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547a40>) completed
2025-08-11 17:34:42,853 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,854 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,854 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547040>, '\nDROP TABLE votes', ())
2025-08-11 17:34:42,854 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547040>, '\nDROP TABLE votes', ()) completed
2025-08-11 17:34:42,854 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547040>)
2025-08-11 17:34:42,854 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547040>) completed
2025-08-11 17:34:42,854 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,854 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,855 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35933c0>, '\nDROP TABLE options', ())
2025-08-11 17:34:42,855 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35933c0>, '\nDROP TABLE options', ()) completed
2025-08-11 17:34:42,855 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35933c0>)
2025-08-11 17:34:42,855 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35933c0>) completed
2025-08-11 17:34:42,855 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,855 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,855 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593640>, '\nDROP TABLE polls', ())
2025-08-11 17:34:42,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593640>, '\nDROP TABLE polls', ()) completed
2025-08-11 17:34:42,856 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593640>)
2025-08-11 17:34:42,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593640>) completed
2025-08-11 17:34:42,856 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,856 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35931c0>, '\nDROP TABLE delegations', ())
2025-08-11 17:34:42,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35931c0>, '\nDROP TABLE delegations', ()) completed
2025-08-11 17:34:42,857 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35931c0>)
2025-08-11 17:34:42,857 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35931c0>) completed
2025-08-11 17:34:42,857 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,857 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,857 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35936c0>, '\nDROP TABLE activitylog', ())
2025-08-11 17:34:42,857 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35936c0>, '\nDROP TABLE activitylog', ()) completed
2025-08-11 17:34:42,858 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35936c0>)
2025-08-11 17:34:42,858 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35936c0>) completed
2025-08-11 17:34:42,858 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,858 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,858 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593040>, '\nDROP TABLE delegation_stats', ())
2025-08-11 17:34:42,858 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593040>, '\nDROP TABLE delegation_stats', ()) completed
2025-08-11 17:34:42,858 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593040>)
2025-08-11 17:34:42,858 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593040>) completed
2025-08-11 17:34:42,859 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,859 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,859 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593dc0>, '\nDROP TABLE users', ())
2025-08-11 17:34:42,859 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593dc0>, '\nDROP TABLE users', ()) completed
2025-08-11 17:34:42,859 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593dc0>)
2025-08-11 17:34:42,860 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593dc0>) completed
2025-08-11 17:34:42,860 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,860 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>) completed
2025-08-11 17:34:42,860 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
2025-08-11 17:34:42,860 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
---------------------------- Captured log teardown -----------------------------
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd80c0>, 'PRAGMA main.table_info("activitylog")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3fd80c0>, 'PRAGMA main.table_info("activitylog")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd80c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3fd80c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd80c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3fd80c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547540>, 'PRAGMA main.table_info("delegations")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547540>, 'PRAGMA main.table_info("delegations")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547ac0>, 'PRAGMA main.table_info("options")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547ac0>, 'PRAGMA main.table_info("options")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547ac0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547ac0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547ac0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547ac0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35478c0>, 'PRAGMA main.table_info("polls")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35478c0>, 'PRAGMA main.table_info("polls")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa35478c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa35478c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35478c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35478c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547740>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547740>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547740>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547740>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35471c0>, 'PRAGMA main.table_info("votes")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35471c0>, 'PRAGMA main.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa35471c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa35471c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35471c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35471c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547a40>, 'PRAGMA main.table_info("delegation_stats")', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547a40>, 'PRAGMA main.table_info("delegation_stats")', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547a40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0xffffa3547a40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547a40>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547a40>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547040>, '\nDROP TABLE votes', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3547040>, '\nDROP TABLE votes', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3547040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35933c0>, '\nDROP TABLE options', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35933c0>, '\nDROP TABLE options', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35933c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35933c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593640>, '\nDROP TABLE polls', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593640>, '\nDROP TABLE polls', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593640>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593640>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35931c0>, '\nDROP TABLE delegations', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35931c0>, '\nDROP TABLE delegations', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35931c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35931c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35936c0>, '\nDROP TABLE activitylog', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa35936c0>, '\nDROP TABLE activitylog', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35936c0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa35936c0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593040>, '\nDROP TABLE delegation_stats', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593040>, '\nDROP TABLE delegation_stats', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593040>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593040>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593dc0>, '\nDROP TABLE users', ())
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0xffffa3593dc0>, '\nDROP TABLE users', ()) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593dc0>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0xffffa3593dc0>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0xffffa44e4540>) completed
DEBUG    aiosqlite:core.py:104 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>)
DEBUG    aiosqlite:core.py:106 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0xffffa44e4540>) completed
________________________ test_login_invalid_credentials ________________________
  + Exception Group Traceback (most recent call last):
  |   File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/runner.py", line 344, in from_call
    |     result: TResult | None = func()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/runner.py", line 246, in <lambda>
    |     lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/logging.py", line 850, in pytest_runtest_call
    |     yield
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/capture.py", line 900, in pytest_runtest_call
    |     return (yield)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/skipping.py", line 263, in pytest_runtest_call
    |     return (yield)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/runner.py", line 178, in pytest_runtest_call
    |     item.runtest()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pytest_asyncio/plugin.py", line 426, in runtest
    |     super().runtest()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/python.py", line 1671, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/python.py", line 157, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pytest_asyncio/plugin.py", line 642, in inner
    |     _loop.run_until_complete(task)
    |   File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    |     return future.result()
    |   File "/app/backend/tests/api/test_auth.py", line 23, in test_login_invalid_credentials
    |     response = await async_client.post(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1877, in post
    |     return await self.request(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1559, in request
    |     return await self.send(request, auth=auth, follow_redirects=follow_redirects)
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1646, in send
    |     response = await self._send_handling_auth(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1674, in _send_handling_auth
    |     response = await self._send_handling_redirects(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1711, in _send_handling_redirects
    |     response = await self._send_single_request(request)
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1748, in _send_single_request
    |     response = await transport.handle_async_request(request)
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_transports/asgi.py", line 162, in handle_async_request
    |     await self.app(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |   File "/app/backend/main.py", line 155, in add_security_headers
    |     response = await call_next(request)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |   File "/app/backend/core/middleware.py", line 49, in dispatch
    |     response = await call_next(request)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app
    |     raise e
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app
    |     solved_result = await solve_dependencies(
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 598, in solve_dependencies
    |     solved = await call(**sub_values)
    |   File "/app/backend/core/rate_limiting.py", line 75, in rate_limiter_dependency
    |     return await limiter(request, response)
    |   File "/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py", line 36, in __call__
    |     raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
    | Exception: You must call FastAPILimiter.init in startup event of fastapi!
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/tests/api/test_auth.py", line 23, in test_login_invalid_credentials
    response = await async_client.post(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1877, in post
    return await self.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1559, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1646, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1674, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1711, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1748, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/asgi.py", line 162, in handle_async_request
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
  File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/app/backend/main.py", line 155, in add_security_headers
    response = await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
  File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/app/backend/core/middleware.py", line 49, in dispatch
    response = await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app
    solved_result = await solve_dependencies(
  File "/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
  File "/app/backend/core/rate_limiting.py", line 75, in rate_limiter_dependency
    return await limiter(request, response)
  File "/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py", line 36, in __call__
    raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
Exception: You must call FastAPILimiter.init in startup event of fastapi!

During handling of the above exception, another exception occurred:

async_client = <httpx.AsyncClient object at 0xffffa4117bb0>

    @pytest.mark.asyncio
    async def test_login_invalid_credentials(async_client: AsyncClient):
>       response = await async_client.post(
            "/api/token",
            data={"username": "wrong@example.com", "password": "wrongpassword"},
        )

backend/tests/api/test_auth.py:23: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1877: in post
    return await self.request(
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1559: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1646: in send
    response = await self._send_handling_auth(
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1674: in _send_handling_auth
    response = await self._send_handling_redirects(
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1711: in _send_handling_redirects
    response = await self._send_single_request(request)
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1748: in _send_single_request
    response = await transport.handle_async_request(request)
/usr/local/lib/python3.10/site-packages/httpx/_transports/asgi.py:162: in handle_async_request
    await self.app(scope, receive, send)
/usr/local/lib/python3.10/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/local/lib/python3.10/contextlib.py:153: in __exit__
    self.gen.throw(typ, value, traceback)
/usr/local/lib/python3.10/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
backend/main.py:155: in add_security_headers
    response = await call_next(request)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/local/lib/python3.10/contextlib.py:153: in __exit__
    self.gen.throw(typ, value, traceback)
/usr/local/lib/python3.10/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
backend/core/middleware.py:49: in dispatch
    response = await call_next(request)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:74: in app
    response = await func(request)
/usr/local/lib/python3.10/site-packages/fastapi/routing.py:285: in app
    raise e
/usr/local/lib/python3.10/site-packages/fastapi/routing.py:275: in app
    solved_result = await solve_dependencies(
/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py:598: in solve_dependencies
    solved = await call(**sub_values)
backend/core/rate_limiting.py:75: in rate_limiter_dependency
    return await limiter(request, response)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <fastapi_limiter.depends.RateLimiter object at 0xffffa2e06170>
request = <starlette.requests.Request object at 0xffffa2e072e0>
response = <starlette.responses.Response object at 0xffffa2e079d0>

    async def __call__(self, request: Request, response: Response):
        if not FastAPILimiter.redis:
>           raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
E           Exception: You must call FastAPILimiter.init in startup event of fastapi!

/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py:36: Exception
---------------------------- Captured stdout setup -----------------------------
2025-08-11 17:34:42,862 - asyncio - DEBUG - Using selector: EpollSelector
------------------------------ Captured log setup ------------------------------
DEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector
----------------------------- Captured stdout call -----------------------------
{"request_id": "0755c720-fc43-4f6e-8b10-6a55d78722a0", "method": "POST", "path": "/api/token", "event": "request_started", "client_host": "127.0.0.1", "level": "info", "timestamp": "2025-08-11T17:34:42.863111Z"}
2025-08-11 17:34:42,863 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-08-11 17:34:42,863 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2025-08-11 17:34:42,863 - multipart.multipart - DEBUG - Calling on_field_data with data[9:28]
2025-08-11 17:34:42,863 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-08-11 17:34:42,863 - multipart.multipart - DEBUG - Calling on_field_start with no data
2025-08-11 17:34:42,863 - multipart.multipart - DEBUG - Calling on_field_name with data[29:37]
2025-08-11 17:34:42,864 - multipart.multipart - DEBUG - Calling on_field_data with data[38:51]
2025-08-11 17:34:42,864 - multipart.multipart - DEBUG - Calling on_field_end with no data
2025-08-11 17:34:42,864 - multipart.multipart - DEBUG - Calling on_end with no data
{"request_id": "0755c720-fc43-4f6e-8b10-6a55d78722a0", "error": "You must call FastAPILimiter.init in startup event of fastapi!", "response_time": 0.0014047622680664062, "event": "request_failed", "method": "POST", "path": "/api/token", "client_host": "127.0.0.1", "level": "error", "timestamp": "2025-08-11T17:34:42.864562Z"}
{"request_id": null, "path": "/api/token", "method": "POST", "event": "Unhandled exception", "level": "error", "timestamp": "2025-08-11T17:34:42.864711Z", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 87, in collapse_excgroups\n  |     yield\n  |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 190, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |   File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    |     with collapse_excgroups():\n    |   File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    |     self.gen.throw(typ, value, traceback)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |   File \"/app/backend/main.py\", line 155, in add_security_headers\n    |     response = await call_next(request)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    |     raise app_exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    |     with collapse_excgroups():\n    |   File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    |     self.gen.throw(typ, value, traceback)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |   File \"/app/backend/core/middleware.py\", line 49, in dispatch\n    |     response = await call_next(request)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    |     raise app_exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 758, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 778, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 299, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 79, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 74, in app\n    |     response = await func(request)\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 285, in app\n    |     raise e\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 275, in app\n    |     solved_result = await solve_dependencies(\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py\", line 598, in solve_dependencies\n    |     solved = await call(**sub_values)\n    |   File \"/app/backend/core/rate_limiting.py\", line 75, in rate_limiter_dependency\n    |     return await limiter(request, response)\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py\", line 36, in __call__\n    |     raise Exception(\"You must call FastAPILimiter.init in startup event of fastapi!\")\n    | Exception: You must call FastAPILimiter.init in startup event of fastapi!\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    with collapse_excgroups():\n  File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/app/backend/main.py\", line 155, in add_security_headers\n    response = await call_next(request)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    raise app_exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    with collapse_excgroups():\n  File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/app/backend/core/middleware.py\", line 49, in dispatch\n    response = await call_next(request)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    raise app_exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 758, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 778, in app\n    await route.handle(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 299, in handle\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 79, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 74, in app\n    response = await func(request)\n  File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 285, in app\n    raise e\n  File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 275, in app\n    solved_result = await solve_dependencies(\n  File \"/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py\", line 598, in solve_dependencies\n    solved = await call(**sub_values)\n  File \"/app/backend/core/rate_limiting.py\", line 75, in rate_limiter_dependency\n    return await limiter(request, response)\n  File \"/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py\", line 36, in __call__\n    raise Exception(\"You must call FastAPILimiter.init in startup event of fastapi!\")\nException: You must call FastAPILimiter.init in startup event of fastapi!"}
------------------------------ Captured log call -------------------------------
DEBUG    multipart.multipart:multipart.py:626 Calling on_field_start with no data
DEBUG    multipart.multipart:multipart.py:623 Calling on_field_name with data[0:8]
DEBUG    multipart.multipart:multipart.py:623 Calling on_field_data with data[9:28]
DEBUG    multipart.multipart:multipart.py:626 Calling on_field_end with no data
DEBUG    multipart.multipart:multipart.py:626 Calling on_field_start with no data
DEBUG    multipart.multipart:multipart.py:623 Calling on_field_name with data[29:37]
DEBUG    multipart.multipart:multipart.py:623 Calling on_field_data with data[38:51]
DEBUG    multipart.multipart:multipart.py:626 Calling on_field_end with no data
DEBUG    multipart.multipart:multipart.py:626 Calling on_end with no data
____________________________ test_register_success _____________________________
  + Exception Group Traceback (most recent call last):
  |   File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 190, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 772, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/runner.py", line 344, in from_call
    |     result: TResult | None = func()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/runner.py", line 246, in <lambda>
    |     lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/logging.py", line 850, in pytest_runtest_call
    |     yield
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/capture.py", line 900, in pytest_runtest_call
    |     return (yield)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/skipping.py", line 263, in pytest_runtest_call
    |     return (yield)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/runner.py", line 178, in pytest_runtest_call
    |     item.runtest()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pytest_asyncio/plugin.py", line 426, in runtest
    |     super().runtest()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/python.py", line 1671, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 167, in _multicall
    |     raise exception
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pluggy/_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/_pytest/python.py", line 157, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |   File "/home/appuser/.local/lib/python3.10/site-packages/pytest_asyncio/plugin.py", line 642, in inner
    |     _loop.run_until_complete(task)
    |   File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    |     return future.result()
    |   File "/app/backend/tests/api/test_auth.py", line 31, in test_register_success
    |     response = await async_client.post(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1877, in post
    |     return await self.request(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1559, in request
    |     return await self.send(request, auth=auth, follow_redirects=follow_redirects)
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1646, in send
    |     response = await self._send_handling_auth(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1674, in _send_handling_auth
    |     response = await self._send_handling_redirects(
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1711, in _send_handling_redirects
    |     response = await self._send_single_request(request)
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1748, in _send_single_request
    |     response = await transport.handle_async_request(request)
    |   File "/usr/local/lib/python3.10/site-packages/httpx/_transports/asgi.py", line 162, in handle_async_request
    |     await self.app(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 123, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    |     await self.app(scope, receive, _send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |   File "/app/backend/main.py", line 155, in add_security_headers
    |     response = await call_next(request)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__
    |     await self.app(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    |     with collapse_excgroups():
    |   File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |   File "/app/backend/core/middleware.py", line 49, in dispatch
    |     response = await call_next(request)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    |     raise app_exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 758, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 778, in app
    |     await route.handle(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 299, in handle
    |     await self.app(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 79, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    |     raise exc
    |   File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 74, in app
    |     response = await func(request)
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app
    |     raise e
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app
    |     solved_result = await solve_dependencies(
    |   File "/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 598, in solve_dependencies
    |     solved = await call(**sub_values)
    |   File "/app/backend/core/rate_limiting.py", line 75, in rate_limiter_dependency
    |     return await limiter(request, response)
    |   File "/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py", line 36, in __call__
    |     raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
    | Exception: You must call FastAPILimiter.init in startup event of fastapi!
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/tests/api/test_auth.py", line 31, in test_register_success
    response = await async_client.post(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1877, in post
    return await self.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1559, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1646, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1674, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1711, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1748, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/asgi.py", line 162, in handle_async_request
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
  File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/app/backend/main.py", line 155, in add_security_headers
    response = await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 189, in __call__
    with collapse_excgroups():
  File "/usr/local/lib/python3.10/contextlib.py", line 153, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/usr/local/lib/python3.10/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 191, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/app/backend/core/middleware.py", line 49, in dispatch
    response = await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 165, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 151, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 758, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 778, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 299, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 79, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 74, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 285, in app
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 275, in app
    solved_result = await solve_dependencies(
  File "/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 598, in solve_dependencies
    solved = await call(**sub_values)
  File "/app/backend/core/rate_limiting.py", line 75, in rate_limiter_dependency
    return await limiter(request, response)
  File "/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py", line 36, in __call__
    raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
Exception: You must call FastAPILimiter.init in startup event of fastapi!

During handling of the above exception, another exception occurred:

async_client = <httpx.AsyncClient object at 0xffffa4115ed0>

    @pytest.mark.asyncio
    async def test_register_success(async_client: AsyncClient):
>       response = await async_client.post(
            "/api/users/",
            json={
                "email": "new@example.com",
                "username": "newuser",
                "password": "newpassword123",
            },
        )

backend/tests/api/test_auth.py:31: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1877: in post
    return await self.request(
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1559: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1646: in send
    response = await self._send_handling_auth(
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1674: in _send_handling_auth
    response = await self._send_handling_redirects(
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1711: in _send_handling_redirects
    response = await self._send_single_request(request)
/usr/local/lib/python3.10/site-packages/httpx/_client.py:1748: in _send_single_request
    response = await transport.handle_async_request(request)
/usr/local/lib/python3.10/site-packages/httpx/_transports/asgi.py:162: in handle_async_request
    await self.app(scope, receive, send)
/usr/local/lib/python3.10/site-packages/fastapi/applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/applications.py:123: in __call__
    await self.middleware_stack(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py:186: in __call__
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py:164: in __call__
    await self.app(scope, receive, _send)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/local/lib/python3.10/contextlib.py:153: in __exit__
    self.gen.throw(typ, value, traceback)
/usr/local/lib/python3.10/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
backend/main.py:155: in add_security_headers
    response = await call_next(request)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py:83: in __call__
    await self.app(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:189: in __call__
    with collapse_excgroups():
/usr/local/lib/python3.10/contextlib.py:153: in __exit__
    self.gen.throw(typ, value, traceback)
/usr/local/lib/python3.10/site-packages/starlette/_utils.py:93: in collapse_excgroups
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:191: in __call__
    response = await self.dispatch_func(request, call_next)
backend/core/middleware.py:49: in dispatch
    response = await call_next(request)
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:165: in call_next
    raise app_exc
/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py:151: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:758: in __call__
    await self.middleware_stack(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:778: in app
    await route.handle(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:299: in handle
    await self.app(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:79: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:64: in wrapped_app
    raise exc
/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py:53: in wrapped_app
    await app(scope, receive, sender)
/usr/local/lib/python3.10/site-packages/starlette/routing.py:74: in app
    response = await func(request)
/usr/local/lib/python3.10/site-packages/fastapi/routing.py:285: in app
    raise e
/usr/local/lib/python3.10/site-packages/fastapi/routing.py:275: in app
    solved_result = await solve_dependencies(
/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py:598: in solve_dependencies
    solved = await call(**sub_values)
backend/core/rate_limiting.py:75: in rate_limiter_dependency
    return await limiter(request, response)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <fastapi_limiter.depends.RateLimiter object at 0xffffa2e4c610>
request = <starlette.requests.Request object at 0xffffa42206a0>
response = <starlette.responses.Response object at 0xffffa4222cb0>

    async def __call__(self, request: Request, response: Response):
        if not FastAPILimiter.redis:
>           raise Exception("You must call FastAPILimiter.init in startup event of fastapi!")
E           Exception: You must call FastAPILimiter.init in startup event of fastapi!

/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py:36: Exception
---------------------------- Captured stdout setup -----------------------------
2025-08-11 17:34:43,167 - asyncio - DEBUG - Using selector: EpollSelector
------------------------------ Captured log setup ------------------------------
DEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector
----------------------------- Captured stdout call -----------------------------
{"request_id": "0038ff3c-a3e9-4a32-8737-0a031e301673", "method": "POST", "path": "/api/users/", "event": "request_started", "client_host": "127.0.0.1", "level": "info", "timestamp": "2025-08-11T17:34:43.169491Z"}
{"request_id": "0038ff3c-a3e9-4a32-8737-0a031e301673", "error": "You must call FastAPILimiter.init in startup event of fastapi!", "response_time": 0.0009467601776123047, "event": "request_failed", "method": "POST", "path": "/api/users/", "client_host": "127.0.0.1", "level": "error", "timestamp": "2025-08-11T17:34:43.170530Z"}
{"request_id": null, "path": "/api/users/", "method": "POST", "event": "Unhandled exception", "level": "error", "timestamp": "2025-08-11T17:34:43.170827Z", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 87, in collapse_excgroups\n  |     yield\n  |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 190, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |   File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    |     with collapse_excgroups():\n    |   File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    |     self.gen.throw(typ, value, traceback)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |   File \"/app/backend/main.py\", line 155, in add_security_headers\n    |     response = await call_next(request)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    |     raise app_exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    |     await self.app(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    |     with collapse_excgroups():\n    |   File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    |     self.gen.throw(typ, value, traceback)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |   File \"/app/backend/core/middleware.py\", line 49, in dispatch\n    |     response = await call_next(request)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    |     raise app_exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 758, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 778, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 299, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 79, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    |     raise exc\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 74, in app\n    |     response = await func(request)\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 285, in app\n    |     raise e\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 275, in app\n    |     solved_result = await solve_dependencies(\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py\", line 598, in solve_dependencies\n    |     solved = await call(**sub_values)\n    |   File \"/app/backend/core/rate_limiting.py\", line 75, in rate_limiter_dependency\n    |     return await limiter(request, response)\n    |   File \"/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py\", line 36, in __call__\n    |     raise Exception(\"You must call FastAPILimiter.init in startup event of fastapi!\")\n    | Exception: You must call FastAPILimiter.init in startup event of fastapi!\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    with collapse_excgroups():\n  File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/app/backend/main.py\", line 155, in add_security_headers\n    response = await call_next(request)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    raise app_exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 189, in __call__\n    with collapse_excgroups():\n  File \"/usr/local/lib/python3.10/contextlib.py\", line 153, in __exit__\n    self.gen.throw(typ, value, traceback)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_utils.py\", line 93, in collapse_excgroups\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    response = await self.dispatch_func(request, call_next)\n  File \"/app/backend/core/middleware.py\", line 49, in dispatch\n    response = await call_next(request)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 165, in call_next\n    raise app_exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py\", line 151, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 758, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 778, in app\n    await route.handle(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 299, in handle\n    await self.app(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 79, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 64, in wrapped_app\n    raise exc\n  File \"/usr/local/lib/python3.10/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/usr/local/lib/python3.10/site-packages/starlette/routing.py\", line 74, in app\n    response = await func(request)\n  File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 285, in app\n    raise e\n  File \"/usr/local/lib/python3.10/site-packages/fastapi/routing.py\", line 275, in app\n    solved_result = await solve_dependencies(\n  File \"/usr/local/lib/python3.10/site-packages/fastapi/dependencies/utils.py\", line 598, in solve_dependencies\n    solved = await call(**sub_values)\n  File \"/app/backend/core/rate_limiting.py\", line 75, in rate_limiter_dependency\n    return await limiter(request, response)\n  File \"/usr/local/lib/python3.10/site-packages/fastapi_limiter/depends.py\", line 36, in __call__\n    raise Exception(\"You must call FastAPILimiter.init in startup event of fastapi!\")\nException: You must call FastAPILimiter.init in startup event of fastapi!"}
=========================== short test summary info ============================
FAILED backend/tests/api/test_auth.py::test_login_success - Exception: You mu...
FAILED backend/tests/api/test_auth.py::test_login_invalid_credentials - Excep...
FAILED backend/tests/api/test_auth.py::test_register_success - Exception: You...
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 3 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
============================== 3 failed in 1.35s ===============================


```